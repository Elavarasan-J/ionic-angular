<ion-view view-title="Search : {{viewTitle}}" hide-back-button=false>
	<ion-content>		 
		<ion-list>
			<div class="loader" ng-show="loaderIcon">
				 <ion-spinner icon="android"></ion-spinner>
			</div>
			
			<div ng-hide="listItems.error == 'Not found'">
				<ng-map ng-repeat="list in listItems" ng-if="$index == 0" zoom="1" center="[{{list.latitude}},{{list.longitude}}]">
				  <marker ng-repeat="list in listItems" 
					position="{{list.latitude}},{{list.longitude}}" on-click="showData(map)">
				  </marker>
				</ng-map>
			</div>
			 
			<ion-item ng-repeat="list in listItems" ng-class="{'hide' : listItems.error}">
				<div class="business-list-wrapper">
					<h2><a ng-click="viewBusiness($index)" class="business-name">{{list.nom}}</a></h2>
					<p class="text-blue">{{list.ville}}</p>
					
					<div class="list-inner-content">
						<p>{{list.adresse}}</p>
						<p>{{list.cp}} {{list.ville}}</p>
						<p ng-if="list.tel!=''" ng-class="{ 'hide' : !list.tel }">Tel : {{list.tel}} </p>
						<p ng-if="list.fax!=''" ng-class="{ 'hide' : !list.fax }">Fax : {{list.fax}} </p>
					</div>
				</div>
			</ion-item>
			
			<ion-item ng-if="listItems.error == 'Not found'">
				<p>No business Found</p>
			</ion-item>
			
		</ion-list>
		
		<ion-infinite-scroll on-infinite="loadMore()" ng-if="!moreDataAvailable" immediate-check=false distance="3%"></ion-infinite-scroll>
		
	</ion-content>
</ion-view>